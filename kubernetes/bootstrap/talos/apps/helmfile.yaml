---
repositories:
  - name: cilium
    url: https://helm.cilium.io
  - name: postfinance
    url: https://postfinance.github.io/kubelet-csr-approver

releases:
  - name: prometheus-operator-crds
    namespace: observability
    chart: oci://ghcr.io/prometheus-community/charts/prometheus-operator-crds
    version: 12.0.0
  - name: cilium
    namespace: kube-system
    chart: cilium/cilium
    version: 1.15.1
    wait: true
    values:
      - ./cilium-values.yaml
    needs:
      - observability/prometheus-operator-crds
  - name: kubelet-csr-approver
    namespace: kube-system
    chart: postfinance/kubelet-csr-approver
    version: 1.0.7
    wait: true
    values:
      - ./kubelet-csr-approver-values.yaml
    needs:
      - observability/prometheus-operator-crds
